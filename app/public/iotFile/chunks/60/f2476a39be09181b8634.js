(window.webpackJsonp=window.webpackJsonp||[]).push([[60,93],{133:function(e,t,n){"use strict";n(30),n(252)},134:function(e,t,n){"use strict";n(30),n(252)},14:function(e,t,n){"use strict";var o=n(0),r=n.n(o),a=n(25),i=n.n(a),c=n(15),s=n.n(c),l=n(4),u=n.n(l),f=n(8),p=n.n(f),m=n(16),d=n.n(m),y=n(6),v=n.n(y),h=n(9),b=n.n(h),C=n(1),g=n.n(C),E=n(12),x=n.n(E),O=n(46),w=n(158),N=n(5),k=n.n(N),T=function(e){function t(){var e,n,o,r;p()(this,t);for(var a=arguments.length,i=Array(a),c=0;c<a;c++)i[c]=arguments[c];return n=o=v()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),o.close=function(){o.clearCloseTimer(),o.props.onClose()},o.startCloseTimer=function(){o.props.duration&&(o.closeTimer=setTimeout(function(){o.close()},1e3*o.props.duration))},o.clearCloseTimer=function(){o.closeTimer&&(clearTimeout(o.closeTimer),o.closeTimer=null)},r=n,v()(o,r)}return b()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentDidUpdate",value:function(e){(this.props.duration!==e.duration||this.props.update)&&this.restartCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"restartCloseTimer",value:function(){this.clearCloseTimer(),this.startCloseTimer()}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls+"-notice",o=(e={},s()(e,""+n,1),s()(e,n+"-closable",t.closable),s()(e,t.className,!!t.className),e);return r.a.createElement("div",{className:k()(o),style:t.style,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onClick:t.onClick},r.a.createElement("div",{className:n+"-content"},t.children),t.closable?r.a.createElement("a",{tabIndex:"0",onClick:this.close,className:n+"-close"},t.closeIcon||r.a.createElement("span",{className:n+"-close-x"})):null)}}]),t}(o.Component);T.propTypes={duration:g.a.number,onClose:g.a.func,children:g.a.any,update:g.a.bool,closeIcon:g.a.node},T.defaultProps={onEnd:function(){},onClose:function(){},duration:1.5,style:{right:"50%"}};var P=T,S=0,_=Date.now(),j=function(e){function t(){var e,n,o,r;p()(this,t);for(var a=arguments.length,i=Array(a),c=0;c<a;c++)i[c]=arguments[c];return n=o=v()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),o.state={notices:[]},o.add=function(e){var t=e.key=e.key||"rcNotification_"+_+"_"+S++,n=o.props.maxCount;o.setState(function(o){var r=o.notices,a=r.map(function(e){return e.key}).indexOf(t),i=r.concat();return-1!==a?i.splice(a,1,e):(n&&r.length>=n&&(e.updateKey=i[0].updateKey||i[0].key,i.shift()),i.push(e)),{notices:i}})},o.remove=function(e){o.setState(function(t){return{notices:t.notices.filter(function(t){return t.key!==e})}})},r=n,v()(o,r)}return b()(t,e),d()(t,[{key:"getTransitionName",value:function(){var e=this.props,t=e.transitionName;return!t&&e.animation&&(t=e.prefixCls+"-"+e.animation),t}},{key:"render",value:function(){var e,t=this,n=this.props,o=this.state.notices,a=o.map(function(e,a){var i=Boolean(a===o.length-1&&e.updateKey),c=e.updateKey?e.updateKey:e.key,s=Object(w.a)(t.remove.bind(t,e.key),e.onClose);return r.a.createElement(P,u()({prefixCls:n.prefixCls},e,{key:c,update:i,onClose:s,onClick:e.onClick,closeIcon:n.closeIcon}),e.content)}),i=(e={},s()(e,n.prefixCls,1),s()(e,n.className,!!n.className),e);return r.a.createElement("div",{className:k()(i),style:n.style},r.a.createElement(O.a,{transitionName:this.getTransitionName()},a))}}]),t}(o.Component);j.propTypes={prefixCls:g.a.string,transitionName:g.a.string,animation:g.a.oneOfType([g.a.string,g.a.object]),style:g.a.object,maxCount:g.a.number,closeIcon:g.a.node},j.defaultProps={prefixCls:"rc-notification",animation:"fade",style:{top:65,left:"50%"}},j.newInstance=function(e,t){var n=e||{},o=n.getContainer,a=i()(n,["getContainer"]),c=document.createElement("div");o?o().appendChild(c):document.body.appendChild(c);var s=!1;x.a.render(r.a.createElement(j,u()({},a,{ref:function(e){s||(s=!0,t({notice:function(t){e.add(t)},removeNotice:function(t){e.remove(t)},component:e,destroy:function(){x.a.unmountComponentAtNode(c),c.parentNode.removeChild(c)}}))}})),c)};var I,D,K,z,A=j,M=n(11),V=3,L=1,B="ant-message",U="move-up",G={open:function(e){var t=void 0!==e.duration?e.duration:V,n={info:"info-circle",success:"check-circle",error:"close-circle",warning:"exclamation-circle",loading:"loading"}[e.type],r=L++,a=new Promise(function(a){var i=function(){return"function"==typeof e.onClose&&e.onClose(),a(!0)};!function(e){D?e(D):A.newInstance({prefixCls:B,transitionName:U,style:{top:I},getContainer:K,maxCount:z},function(t){D?e(D):(D=t,e(t))})}(function(a){var c=o.createElement(M.a,{type:n,theme:"loading"===n?"outlined":"filled"});a.notice({key:r,duration:t,style:{},content:o.createElement("div",{className:"".concat(B,"-custom-content").concat(e.type?" ".concat(B,"-").concat(e.type):"")},e.icon?e.icon:n?c:"",o.createElement("span",null,e.content)),onClose:i})})}),i=function(){D&&D.removeNotice(r)};return i.then=function(e,t){return a.then(e,t)},i.promise=a,i},config:function(e){void 0!==e.top&&(I=e.top,D=null),void 0!==e.duration&&(V=e.duration),void 0!==e.prefixCls&&(B=e.prefixCls),void 0!==e.getContainer&&(K=e.getContainer),void 0!==e.transitionName&&(U=e.transitionName,D=null),void 0!==e.maxCount&&(z=e.maxCount,D=null)},destroy:function(){D&&(D.destroy(),D=null)}};["success","info","warning","error","loading"].forEach(function(e){G[e]=function(t,n,o){return"function"==typeof n&&(o=n,n=void 0),G.open({content:t,duration:n,type:e,onClose:o})}}),G.warn=G.warning,t.a=G},160:function(e,t,n){"use strict";n(30),n(798),n(72)},171:function(e,t,n){"use strict";n(30),n(775)},205:function(e,t){e.exports={row:"rowngbntr",label:"label2ZulIk",title:"titleEAvU8f",text:"text1yqu_d",pic:"pic241e0T",classCard:"classCard15aRfx",addBtn:"addBtn1OXGo2"}},252:function(e,t){},342:function(e,t,n){"use strict";n.r(t),n(79);var o,r,a=n(27),i=(n(133),n(42)),c=(n(134),n(22)),s=(n(160),n(64)),l=(n(171),n(73)),u=(n(66),n(14)),f=(n(77),n(32)),p=n(2),m=n.n(p),d=n(0),y=n.n(d),v=n(205),h=n.n(v),b=n(1098),C=n(43),g=n(29),E=n(7),x=n.n(E),O=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function w(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function o(r,a){try{var i=t[r](a),c=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(c).then(function(e){o("next",e)},function(e){o("throw",e)});e(c)}("next")})}}var N=(o=Object(C.a)("touchShelf"),Object(b.a)(r=o(r=Object(g.c)(r=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,y.a.Component),O(t,[{key:"componentDidMount",value:function(){var e=w(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,e.next=3,this.props.touchShelf.getInfo(t);case 3:this.props.touchShelf.getStatsList(t);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"renderClass",value:function(){var e=this.props,t=e.touchShelf,n=e.touchShelf,o=n.statsPageNum,r=n.statsPageSize,a=n.statsTotal,i=[{title:"商品ID",dataIndex:"id"},{title:"用户行为",dataIndex:"action",render:function(e){switch(e){case"SKIN_DETECTION_CLICK":return"皮肤检测点击";case"THEME_MAKEUP_CLICK":return"主题妆点";case"ITEM_CLICK":return"商品点击";case"ITEM_TAKE":return"商品拿起";case"FACE_SCAN":return"面部扫描";default:return"-"}}},{title:"开始时间",dataIndex:"created_at",render:function(e){return y.a.createElement("span",null,x()(e).format("YYYY-MM-DD hh:mm:ss"))}}],c={dataSource:t.statsDataList,columns:i,rowKey:function(e){return"stats_"+e.id},pagination:{current:o,pageSize:r,total:a,onChange:function(e){t.update({statsPageNum:e})},onShowSizeChange:function(e,n){t.update({statsPageSize:n})}}};return y.a.createElement(f.a,c)}},{key:"renderGoods",value:function(){var e=this,t=this.props,n=t.touchShelf,o=t.touchShelf,r=o.goodsPageNum,a=o.goodsPageSize,i=o.goodsTotal,c=[{title:"商品ID",dataIndex:"goodsCommonId"},{title:"商品主图",dataIndex:"picUrl",render:function(e){return y.a.createElement("div",{className:h.a.pic},y.a.createElement("img",{src:e,alt:""}))}},{title:"商品名称",dataIndex:"title"},{title:"商品价格",dataIndex:"price"},{title:"所属分类",dataIndex:"classId",render:function(e){var t=n.classDataList.find(function(t){return t.classId===e});return y.a.createElement("span",null,t&&t.className||"")}},{title:"操作",render:function(t){var o=t.title,r=t.price,a=t.picUrl,i=t.goodsAppId,c={title:o,price:r,picUrl:a},f={title:"确定要删除此商品吗",onConfirm:function(){var o=w(m.a.mark(function o(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.removeGoods(t.goodsAppId);case 2:e.sent?u.a.success("删除成功！"):u.a.error("删除失败！");case 4:case"end":return e.stop()}},o,e)}));return function(){return o.apply(this,arguments)}}(),okText:"确定",cancelText:"取消"};return y.a.createElement("div",null,y.a.createElement("a",{onClick:e.updateGoods.bind(e,c,i)},"修改"),y.a.createElement(l.a,{type:"vertical"}),y.a.createElement(s.a,f,y.a.createElement("a",null,"删除")))}}],p={dataSource:n.goodsDataList,columns:c,rowKey:function(e){return"goods_"+e.goodsAppId},pagination:{current:r,pageSize:a,total:i,onChange:function(e){n.update({goodsPageNum:e})},onShowSizeChange:function(e,t){n.update({goodsPageSize:t})}}};return y.a.createElement(f.a,p)}},{key:"renderDetail",value:function(){var e=this.props.touchShelf;return y.a.createElement("div",null,y.a.createElement(i.a,{className:h.a.row},y.a.createElement(c.a,{span:4,className:h.a.label},"设备ID："),y.a.createElement(c.a,{span:8},this.props.match.params.id),y.a.createElement(c.a,{span:4,className:h.a.label},"设备名称："),y.a.createElement(c.a,{span:8},e.infoToJs.appName||"")))}},{key:"render",value:function(){return y.a.createElement("div",null,y.a.createElement(a.a,{title:"设备信息",style:{marginBottom:24}},this.renderDetail()),y.a.createElement(a.a,{title:"数据统计",style:{marginBottom:24},className:h.a.classCard},this.renderClass()))}}]),t}())||r)||r)||r);t.default=N},43:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var o=n(0),r=n.n(o),a=n(29);function i(e,t){return t||(t=e),function(n){return Object(a.b)("store")(function(o){var a=o.store,i=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(o,["store"]);return a[e]?i[t]=a[e]:i.store=a,r.a.createElement(n,i)})}}},64:function(e,t,n){"use strict";var o=n(0),r=n(23),a=n(161),i=n(11),c=n(21),s=n(54),l=n(62),u=n(13);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function m(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var h=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&(n[o[r]]=e[o[r]])}return n},b=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?v(e):t}(this,d(t).call(this,e))).onConfirm=function(e){n.setVisible(!1,e);var t=n.props.onConfirm;t&&t.call(v(v(n)),e)},n.onCancel=function(e){n.setVisible(!1,e);var t=n.props.onCancel;t&&t.call(v(v(n)),e)},n.onVisibleChange=function(e){n.setVisible(e)},n.saveTooltip=function(e){n.tooltip=e},n.renderOverlay=function(e,t){var r=n.props,a=r.okButtonProps,i=r.cancelButtonProps,s=r.title,l=r.cancelText,u=r.okText,f=r.okType,m=r.icon;return o.createElement("div",null,o.createElement("div",{className:"".concat(e,"-inner-content")},o.createElement("div",{className:"".concat(e,"-message")},m,o.createElement("div",{className:"".concat(e,"-message-title")},s)),o.createElement("div",{className:"".concat(e,"-buttons")},o.createElement(c.a,p({onClick:n.onCancel,size:"small"},i),l||t.cancelText),o.createElement(c.a,p({onClick:n.onConfirm,type:f,size:"small"},a),u||t.okText))))},n.renderConfirm=function(e){var t=e.getPrefixCls,r=n.props,i=r.prefixCls,c=r.placement,u=h(r,["prefixCls","placement"]),f=t("popover",i),m=o.createElement(s.a,{componentName:"Popconfirm",defaultLocale:l.a.Popconfirm},function(e){return n.renderOverlay(f,e)});return o.createElement(a.a,p({},u,{prefixCls:f,placement:c,onVisibleChange:n.onVisibleChange,visible:n.state.visible,overlay:m,ref:n.saveTooltip}))},n.state={visible:e.visible},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,o.Component),function(e,t,n){t&&m(e.prototype,t),n&&m(e,n)}(t,[{key:"getPopupDomNode",value:function(){return this.tooltip.getPopupDomNode()}},{key:"setVisible",value:function(e,t){var n=this.props;"visible"in n||this.setState({visible:e});var o=n.onVisibleChange;o&&o(e,t)}},{key:"render",value:function(){return o.createElement(u.a,null,this.renderConfirm)}}],[{key:"getDerivedStateFromProps",value:function(e){return"visible"in e?{visible:e.visible}:"defaultVisible"in e?{visible:e.defaultVisible}:null}}]),t}();b.defaultProps={transitionName:"zoom-big",placement:"top",trigger:"click",okType:"primary",icon:o.createElement(i.a,{type:"exclamation-circle",theme:"filled"})},Object(r.polyfill)(b),t.a=b},66:function(e,t,n){"use strict";n(30),n(739)},73:function(e,t,n){"use strict";var o=n(0),r=n(5),a=n.n(r),i=n(13);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=function(e){return o.createElement(i.a,null,function(t){var n,r=t.getPrefixCls,i=e.prefixCls,l=e.type,u=void 0===l?"horizontal":l,f=e.orientation,p=void 0===f?"":f,m=e.className,d=e.children,y=e.dashed,v=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&(n[o[r]]=e[o[r]])}return n}(e,["prefixCls","type","orientation","className","children","dashed"]),h=r("divider",i),b=p.length>0?"-"+p:p,C=a()(m,h,"".concat(h,"-").concat(u),(s(n={},"".concat(h,"-with-text").concat(b),d),s(n,"".concat(h,"-dashed"),!!y),n));return o.createElement("div",c({className:C},v),d&&o.createElement("span",{className:"".concat(h,"-inner-text")},d))})}},739:function(e,t){},775:function(e,t){},798:function(e,t){}}]);