(window.webpackJsonp=window.webpackJsonp||[]).push([[42,81],{133:function(e,t,n){"use strict";n(30),n(252)},134:function(e,t,n){"use strict";n(30),n(252)},14:function(e,t,n){"use strict";var a=n(0),o=n.n(a),i=n(25),r=n.n(i),l=n(15),s=n.n(l),c=n(4),u=n.n(c),f=n(8),p=n.n(f),d=n(16),m=n.n(d),h=n(6),y=n.n(h),v=n(9),b=n.n(v),k=n(1),C=n.n(k),g=n(12),E=n.n(g),w=n(46),O=n(158),N=n(5),S=n.n(N),T=function(e){function t(){var e,n,a,o;p()(this,t);for(var i=arguments.length,r=Array(i),l=0;l<i;l++)r[l]=arguments[l];return n=a=y()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),a.close=function(){a.clearCloseTimer(),a.props.onClose()},a.startCloseTimer=function(){a.props.duration&&(a.closeTimer=setTimeout(function(){a.close()},1e3*a.props.duration))},a.clearCloseTimer=function(){a.closeTimer&&(clearTimeout(a.closeTimer),a.closeTimer=null)},o=n,y()(a,o)}return b()(t,e),m()(t,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentDidUpdate",value:function(e){(this.props.duration!==e.duration||this.props.update)&&this.restartCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"restartCloseTimer",value:function(){this.clearCloseTimer(),this.startCloseTimer()}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls+"-notice",a=(e={},s()(e,""+n,1),s()(e,n+"-closable",t.closable),s()(e,t.className,!!t.className),e);return o.a.createElement("div",{className:S()(a),style:t.style,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onClick:t.onClick},o.a.createElement("div",{className:n+"-content"},t.children),t.closable?o.a.createElement("a",{tabIndex:"0",onClick:this.close,className:n+"-close"},t.closeIcon||o.a.createElement("span",{className:n+"-close-x"})):null)}}]),t}(a.Component);T.propTypes={duration:C.a.number,onClose:C.a.func,children:C.a.any,update:C.a.bool,closeIcon:C.a.node},T.defaultProps={onEnd:function(){},onClose:function(){},duration:1.5,style:{right:"50%"}};var _=T,x=0,j=Date.now(),P=function(e){function t(){var e,n,a,o;p()(this,t);for(var i=arguments.length,r=Array(i),l=0;l<i;l++)r[l]=arguments[l];return n=a=y()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),a.state={notices:[]},a.add=function(e){var t=e.key=e.key||"rcNotification_"+j+"_"+x++,n=a.props.maxCount;a.setState(function(a){var o=a.notices,i=o.map(function(e){return e.key}).indexOf(t),r=o.concat();return-1!==i?r.splice(i,1,e):(n&&o.length>=n&&(e.updateKey=r[0].updateKey||r[0].key,r.shift()),r.push(e)),{notices:r}})},a.remove=function(e){a.setState(function(t){return{notices:t.notices.filter(function(t){return t.key!==e})}})},o=n,y()(a,o)}return b()(t,e),m()(t,[{key:"getTransitionName",value:function(){var e=this.props,t=e.transitionName;return!t&&e.animation&&(t=e.prefixCls+"-"+e.animation),t}},{key:"render",value:function(){var e,t=this,n=this.props,a=this.state.notices,i=a.map(function(e,i){var r=Boolean(i===a.length-1&&e.updateKey),l=e.updateKey?e.updateKey:e.key,s=Object(O.a)(t.remove.bind(t,e.key),e.onClose);return o.a.createElement(_,u()({prefixCls:n.prefixCls},e,{key:l,update:r,onClose:s,onClick:e.onClick,closeIcon:n.closeIcon}),e.content)}),r=(e={},s()(e,n.prefixCls,1),s()(e,n.className,!!n.className),e);return o.a.createElement("div",{className:S()(r),style:n.style},o.a.createElement(w.a,{transitionName:this.getTransitionName()},i))}}]),t}(a.Component);P.propTypes={prefixCls:C.a.string,transitionName:C.a.string,animation:C.a.oneOfType([C.a.string,C.a.object]),style:C.a.object,maxCount:C.a.number,closeIcon:C.a.node},P.defaultProps={prefixCls:"rc-notification",animation:"fade",style:{top:65,left:"50%"}},P.newInstance=function(e,t){var n=e||{},a=n.getContainer,i=r()(n,["getContainer"]),l=document.createElement("div");a?a().appendChild(l):document.body.appendChild(l);var s=!1;E.a.render(o.a.createElement(P,u()({},i,{ref:function(e){s||(s=!0,t({notice:function(t){e.add(t)},removeNotice:function(t){e.remove(t)},component:e,destroy:function(){E.a.unmountComponentAtNode(l),l.parentNode.removeChild(l)}}))}})),l)};var I,V,R,A,D=P,M=n(11),B=3,K=1,L="ant-message",U="move-up",J={open:function(e){var t=void 0!==e.duration?e.duration:B,n={info:"info-circle",success:"check-circle",error:"close-circle",warning:"exclamation-circle",loading:"loading"}[e.type],o=K++,i=new Promise(function(i){var r=function(){return"function"==typeof e.onClose&&e.onClose(),i(!0)};!function(e){V?e(V):D.newInstance({prefixCls:L,transitionName:U,style:{top:I},getContainer:R,maxCount:A},function(t){V?e(V):(V=t,e(t))})}(function(i){var l=a.createElement(M.a,{type:n,theme:"loading"===n?"outlined":"filled"});i.notice({key:o,duration:t,style:{},content:a.createElement("div",{className:"".concat(L,"-custom-content").concat(e.type?" ".concat(L,"-").concat(e.type):"")},e.icon?e.icon:n?l:"",a.createElement("span",null,e.content)),onClose:r})})}),r=function(){V&&V.removeNotice(o)};return r.then=function(e,t){return i.then(e,t)},r.promise=i,r},config:function(e){void 0!==e.top&&(I=e.top,V=null),void 0!==e.duration&&(B=e.duration),void 0!==e.prefixCls&&(L=e.prefixCls),void 0!==e.getContainer&&(R=e.getContainer),void 0!==e.transitionName&&(U=e.transitionName,V=null),void 0!==e.maxCount&&(A=e.maxCount,V=null)},destroy:function(){V&&(V.destroy(),V=null)}};["success","info","warning","error","loading"].forEach(function(e){J[e]=function(t,n,a){return"function"==typeof n&&(a=n,n=void 0),J.open({content:t,duration:n,type:e,onClose:a})}}),J.warn=J.warning,t.a=J},150:function(e,t){e.exports={btns:"btns2rYaWR",addColumn:"addColumn3ciuZG",row:"row3LAi97",modalRow:"modalRow1kDH4x",label:"label20jaUL"}},215:function(e,t,n){"use strict";n.r(t),n(44);var a=n(24),o=(n(304),n(87)),i=n(0),r=n.n(i),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={selectValue:"请选择"},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.Component),l(t,[{key:"componentDidMount",value:function(){}},{key:"handleChange",value:function(e){this.setState({selectValue:e})}},{key:"renderSku",value:function(){var e=this,t=this.props,n=t.list,i=t.titles,l=t.isSku,s=t.myOncancel,c=t.myOnok,u=[];if(l)u=n;else{for(var f=[],p=3;p<i.length;p++)f.push(i[p]);u=f}var d={visible:!0,title:l?"删除sku":"删除属性",onCancel:function(){s()},onOk:function(){c(e.state.selectValue)}},m=o.a.Option;return r.a.createElement(a.a,d,r.a.createElement(o.a,{defaultValue:l?"请选择skuId":"请选择属性名称",style:{width:200},onChange:this.handleChange.bind(this)},u.map(function(e,t){var n={key:(l?"sku":"attribute")+"_"+t,value:l?e.id:e};return r.a.createElement(m,n,n.value)})))}},{key:"render",value:function(){return r.a.createElement("div",{className:""},this.renderSku())}}]),t}();t.default=s},229:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return k}),n(77);var a=n(32),o=(n(212),n(86)),i=(n(72),n(21)),r=(n(66),n(14)),l=(n(44),n(24)),s=(n(133),n(42)),c=(n(41),n(18)),u=(n(134),n(22)),f=n(0),p=n.n(f),d=n(150),m=n.n(d),h=n(215),y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},v=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function b(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var k=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={titles:["名称","价格","主图"],list:[],addTitle:"",dropVisible:!1,modalVisible:!1,deleteSku:!1,deleteBtn:"",skusPageNum:1},n.inputRefs={},n.restId=n.restId.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p.a.Component),v(t,[{key:"handleDropVisibleChange",value:function(e){this.setState({dropVisible:e,addTitle:""})}},{key:"restId",value:function(){var e=this.state.list;e=e.map(function(e,t){return y({},e,{id:t+1})}),this.setState({list:e})}},{key:"clear",value:function(){this.setState({titles:["名称","价格","主图"],list:[]})}},{key:"componentDidMount",value:function(){}},{key:"renderModal",value:function(){var e=this,t=this.state,n=t.modalVisible,a=t.titles,o=t.list,i={title:"添加sku",visible:n,onCancel:function(){e.setState({modalVisible:!1})},onOk:function(){var t={id:o.length+1};Object.keys(e.inputRefs).forEach(function(n){e.inputRefs[n].current&&(t[n]=e.inputRefs[n].current.input.value)}),e.setState({list:[].concat(b(o),[t])})}};return p.a.createElement(l.a,i,a.map(function(t,n){return e.inputRefs[t]=p.a.createRef(),p.a.createElement(s.a,{key:"title_"+n,className:m.a.modalRow},p.a.createElement(u.a,{span:6,className:m.a.label},t),p.a.createElement(u.a,{span:18},p.a.createElement(c.a,{ref:e.inputRefs[t]})))}))}},{key:"renderTitleContent",value:function(){var e=this,t=this.state,n=t.addTitle,a=t.titles,o={placeholder:"请输入字段名称",value:n,onChange:function(t){e.setState({addTitle:t.target.value})}},l={type:"primary",onClick:function(){a.find(function(e){return e===n})?r.a.error("字段已存在，换一个试试呢！"):(e.setState({titles:[].concat(b(a),[n])}),e.handleDropVisibleChange(!1))}};return p.a.createElement("div",{className:m.a.addColumn},p.a.createElement("div",{className:m.a.row},p.a.createElement(c.a,o)),p.a.createElement("div",{className:m.a.row},p.a.createElement(i.a,l,"确定"),p.a.createElement(i.a,{onClick:this.handleDropVisibleChange.bind(this,!1)},"取消")))}},{key:"getAttribute",value:function(){this.setState({deleteBtn:"deleteAttribute",deleteSku:!0,isSku:!1})}},{key:"render",value:function(){var e=this,t=this.state,n=t.titles,r=t.deleteSku,l=t.list,s=t.dropVisible,c=t.deleteBtn,u=t.isSku,f=t.skusPageNum,d=[{title:"ID",dataIndex:"id"}];n.forEach(function(e){d.push({title:e,dataIndex:e})});var y={trigger:["click"],visible:s,onVisibleChange:this.handleDropVisibleChange.bind(this),overlay:this.renderTitleContent()},v={dataSource:l,columns:d,bordered:!0,rowKey:function(e){return e.id},pagination:{current:f,pageSize:5,total:l.length,onChange:function(t){e.setState({skusPageNum:t})}}},b={list:l,titles:n,deleteBtn:c,isSku:u,myOncancel:function(){e.setState({deleteSku:!1})},myOnok:function(t){if(u)l.forEach(function(e,n){e.id===t&&l.splice(n,1)}),e.restId();else{var a=n.indexOf(t);a>-1&&n.splice(a,1)}e.setState({deleteSku:!1})}};return p.a.createElement("div",null,p.a.createElement("div",{className:m.a.btns},p.a.createElement("div",null,p.a.createElement(o.a,y,p.a.createElement(i.a,null,"添加属性")),p.a.createElement(i.a,{type:"primary",onClick:function(){e.setState({modalVisible:!0})}},"添加sku")),p.a.createElement("div",{className:m.a.btnRight},p.a.createElement(i.a,{onClick:this.getAttribute.bind(this)},"删除属性"),p.a.createElement(i.a,{type:"primary",onClick:function(){e.setState({deleteBtn:"deleteSku",deleteSku:!0,isSku:!0})}},"删除sku"))),p.a.createElement(a.a,v),this.renderModal(),r&&p.a.createElement(h.default,b))}},{key:"sku",get:function(){var e=this.state,t=e.titles,n=e.list;return{title:"id,"+t.join(","),list:n.map(function(e){var n=[e.id];return t.forEach(function(t){n.push(e[t])}),n.join(",")})}}}]),t}()},66:function(e,t,n){"use strict";n(30),n(739)},739:function(e,t){}}]);