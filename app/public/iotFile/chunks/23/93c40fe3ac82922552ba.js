(window.webpackJsonp=window.webpackJsonp||[]).push([[23,71],{220:function(e,t,n){"use strict";n.r(t),n(44);var a,r,o=n(24),i=(n(41),n(18)),c=n(2),l=n.n(c),s=(n(55),n(17)),f=n(0),u=n.n(f),p=n(1),d=n.n(p),h=n(258),m=n.n(h),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},v=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),w=s.a.create,y=s.a.Item,g=(r=a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={headSrc:""},n.fileRef=u.a.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.a.Component),v(t,[{key:"getPhoto",value:function(e){var t=e.target.files[0],n=this;if(e&&window.FileReader){var a=new FileReader;a.readAsDataURL(t),a.onloadend=function(){n.setState({headSrc:this.result},function(){})}}}},{key:"render",value:function(){var e=this,t=this.props,n=t.visible,a=t.form,r=t.onOk,c=t.onCancel,f=this.state.headSrc,p={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}},d=a.getFieldDecorator,h={visible:n,title:"添加会员",onCancel:c,onOk:function(){a.validateFieldsAndScroll(function(){var t=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function a(r,o){try{var i=t[r](o),c=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(c).then(function(e){a("next",e)},function(e){a("throw",e)});e(c)}("next")})}}(l.a.mark(function t(n,a){var o;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(o=new FormData).append("faceId",a.faceId.toString()),o.append("faceName",a.faceName.toString()),o.append("appId",e.props.appId),o.append("faceImage",e.fileRef.current.files[0]),n||r(o);case 6:case"end":return t.stop()}},t,e)}));return function(e,n){return t.apply(this,arguments)}}())}};return u.a.createElement(o.a,h,u.a.createElement(s.a,null,u.a.createElement(y,b({},p,{label:"会员ID："}),d("faceId")(u.a.createElement(i.a,{placeholder:"请输入会员ID"}))),u.a.createElement(y,b({},p,{label:"姓名："}),d("faceName")(u.a.createElement(i.a,{placeholder:"请输入会员姓名"}))),u.a.createElement(y,b({},p,{label:"头像："}),u.a.createElement("div",{className:m.a.sendPic},"上传",u.a.createElement("input",{ref:this.fileRef,className:m.a.headPic,onChange:this.getPhoto.bind(this),type:"file",name:"faceImage"})),f&&u.a.createElement("img",{src:this.state.headSrc,className:m.a.headImg,alt:"头像"}))))}}]),t}(),a.propTypes={visible:d.a.bool,onOk:d.a.func},a.defaultProps={visible:!1,onOk:function(){},onCancel:function(){}},r);t.default=w()(g)},258:function(e,t){e.exports={sendPic:"sendPic3iSQmb",headPic:"headPicyqoEBg",headImg:"headImg12Ebvj"}}}]);